<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.8.1" />
<title>vectorbt.records API documentation</title>
<meta name="description" content="Modules for working with records …" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-2/css/all.min.css" integrity="sha256-46r060N2LrChLLb5zowXQ72/iKKNiw/lAmygmHExk/o=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
<link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css' rel='stylesheet'>
<link href='https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/8.0.0/sanitize.min.css' rel='stylesheet'>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css" rel="stylesheet">
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar>*:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #eee;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold;word-break:break-all}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{padding-bottom:.5em;border-bottom:1px solid #e82}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes+dl>dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name>span:first-child{white-space:nowrap}.name.class>span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary>*{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}.badge{display:inline-block;padding:0.25em 0.4em;font-size:75%;font-weight:700;line-height:1;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:0.25rem;transition:color 0.15s ease-in-out,background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out}@media (prefers-reduced-motion:reduce){.badge{transition:none}}a.badge:hover,a.badge:focus{text-decoration:none}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.badge-pill{padding-right:0.6em;padding-left:0.6em;border-radius:10rem}.badge-primary{color:#fff;background-color:#007bff}a.badge-primary:hover,a.badge-primary:focus{color:#fff;background-color:#0062cc}a.badge-primary:focus,a.badge-primary.focus{outline:0;box-shadow:0 0 0 0.2rem rgba(0,123,255,0.5)}.badge-secondary{color:#fff;background-color:#6c757d}a.badge-secondary:hover,a.badge-secondary:focus{color:#fff;background-color:#545b62}a.badge-secondary:focus,a.badge-secondary.focus{outline:0;box-shadow:0 0 0 0.2rem rgba(108,117,125,0.5)}.badge-success{color:#fff;background-color:#28a745}a.badge-success:hover,a.badge-success:focus{color:#fff;background-color:#1e7e34}a.badge-success:focus,a.badge-success.focus{outline:0;box-shadow:0 0 0 0.2rem rgba(40,167,69,0.5)}.badge-info{color:#fff;background-color:#17a2b8}a.badge-info:hover,a.badge-info:focus{color:#fff;background-color:#117a8b}a.badge-info:focus,a.badge-info.focus{outline:0;box-shadow:0 0 0 0.2rem rgba(23,162,184,0.5)}.badge-warning{color:#212529;background-color:#ffc107}a.badge-warning:hover,a.badge-warning:focus{color:#212529;background-color:#d39e00}a.badge-warning:focus,a.badge-warning.focus{outline:0;box-shadow:0 0 0 0.2rem rgba(255,193,7,0.5)}.badge-danger{color:#fff;background-color:#dc3545}a.badge-danger:hover,a.badge-danger:focus{color:#fff;background-color:#bd2130}a.badge-danger:focus,a.badge-danger.focus{outline:0;box-shadow:0 0 0 0.2rem rgba(220,53,69,0.5)}.badge-light{color:#212529;background-color:#f8f9fa}a.badge-light:hover,a.badge-light:focus{color:#212529;background-color:#dae0e5}a.badge-light:focus,a.badge-light.focus{outline:0;box-shadow:0 0 0 0.2rem rgba(248,249,250,0.5)}.badge-dark{color:#fff;background-color:#343a40}a.badge-dark:hover,a.badge-dark:focus{color:#fff;background-color:#1d2124}a.badge-dark:focus,a.badge-dark.focus{outline:0;box-shadow:0 0 0 0.2rem rgba(52,58,64,0.5)}.search-container{width:100%;margin-top:15px;margin-bottom:15px}#search_input{display:inline-block;width:100%;height:40px;padding:.375rem .75rem;font-size:1rem;line-height:1.5;color:white;background:rgba(0,0,0,.2);border:none;border-bottom:1px solid #e82;outline:none}.algolia-autocomplete{width:100%;background:rgba(0,0,0,.2);border:none}.algolia-autocomplete input{display:none}.index-caption{color:white}#index a,#index h3,.toc a{color:white}#index a:hover,.toc a:hover{color:#e82}#sidebar{background:#3A4D6B}.toc ul ul,#index ul{padding-left:1.5em}.toc>ul>li{margin-top:.5em}pre{position:relative;background:#fafafa}pre .btnIcon{position:absolute;top:4px;z-index:2;cursor:pointer;border:1px solid transparent;padding:0;color:#383a42;background-color:transparent;height:30px;transition:all .25s ease-out}pre .btnIcon:hover{text-decoration:none}.btnIcon__body{align-items:center;display:flex}.btnIcon svg{fill:currentColor;margin-right:.4em}.btnIcon__label{font-size:11px}.btnClipboard{right:10px}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:400px;height:100vh;overflow:visible;position:sticky;top:0}#content{width:100%;max-width:100ch;padding:3em 4em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.scrollable-index{overflow-y:scroll;height:calc(100vh - 250px)}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-142521178-3', 'auto'); ga('send', 'pageview');
</script><script async src='https://www.google-analytics.com/analytics.js'></script>
<style>.homelink{display:block;font-size:2em;font-weight:bold;color:white}.homelink:hover{color:#e82}.homelink img{max-width:128px;max-height:128px;margin:auto;margin-bottom:.3em}</style>
<link rel="icon" href="https://raw.githubusercontent.com/polakowo/vectorbt/master/favicon.ico">
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>vectorbt.records</code></h1>
</header>
<section id="section-intro">
<p>Modules for working with records.</p>
<p>Records are the second form of data representation in vectorbt. They allow storing sparse event data
such as drawdowns, orders, trades, and positions, without converting them back to the matrix form and
occupying the user's memory. For more details, see <code><a title="vectorbt.records.base" href="base.html">vectorbt.records.base</a></code>.</p>
<h2 id="base-classes">Base classes</h2>
<p><code><a title="vectorbt.records.base.Records" href="base.html#vectorbt.records.base.Records">Records</a></code> and <code><a title="vectorbt.records.base.MappedArray" href="base.html#vectorbt.records.base.MappedArray">MappedArray</a></code> are two essential classes
for working with records. The <code><a title="vectorbt.records.base.Records" href="base.html#vectorbt.records.base.Records">Records</a></code> class wraps the actual records array
(such as trades) and offers methods for mapping it to some array of values (such as P&amp;L of each trade).
The <code><a title="vectorbt.records.base.MappedArray" href="base.html#vectorbt.records.base.MappedArray">MappedArray</a></code> class then takes the mapped array and reduces it by column.</p>
<h2 id="drawdowns">Drawdowns</h2>
<p><code><a title="vectorbt.records.drawdowns.Drawdowns" href="drawdowns.html#vectorbt.records.drawdowns.Drawdowns">Drawdowns</a></code> class accepts drawdown records and the corresponding time series
to analyze the periods of drawdown. Using <code><a title="vectorbt.records.drawdowns.Drawdowns.from_ts" href="drawdowns.html#vectorbt.records.drawdowns.BaseDrawdowns.from_ts">BaseDrawdowns.from_ts()</a></code>, you can generate
drawdown records for any time series and analyze them right away.</p>
<pre><code class="python-repl">&gt;&gt;&gt; import vectorbt as vbt
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; import pandas as pd
&gt;&gt;&gt; import yfinance as yf
&gt;&gt;&gt; from datetime import datetime

&gt;&gt;&gt; start = datetime(2019, 1, 1)
&gt;&gt;&gt; end = datetime(2020, 1, 1)
&gt;&gt;&gt; price = yf.Ticker(&quot;BTC-USD&quot;).history(start=start, end=end)['Close']
&gt;&gt;&gt; drawdowns = vbt.Drawdowns.from_ts(price, freq='1 days')

&gt;&gt;&gt; drawdowns.records.head()
   col  start_idx  valley_idx  end_idx  status
0    0          2           3        6       1
1    0          6          38       54       1
2    0         54          63       91       1
3    0         93          94       95       1
4    0         98          99      100       1

&gt;&gt;&gt; drawdowns.plot()
</code></pre>
<p><img alt="" src="/vectorbt/docs/img/drawdowns_plot.png"></p>
<pre><code class="python-repl">&gt;&gt;&gt; drawdowns.drawdown
&lt;vectorbt.records.base.MappedArray at 0x7fafa6a11160&gt;

&gt;&gt;&gt; drawdowns.drawdown.min()
-0.48982769972565016

&gt;&gt;&gt; drawdowns.drawdown.hist(trace_kwargs=dict(nbinsx=50))
</code></pre>
<p><img alt="" src="/vectorbt/docs/img/drawdowns_drawdown_hist.png"></p>
<p>Moreover, all time series accessors have cached property <code><a title="vectorbt.records.drawdowns" href="drawdowns.html">vectorbt.records.drawdowns</a></code>:</p>
<pre><code class="python-repl">&gt;&gt;&gt; price.vbt.drawdowns().active.current_drawdown()
-0.4473361334272673
</code></pre>
<h2 id="orders">Orders</h2>
<p><code><a title="vectorbt.records.orders.Orders" href="orders.html#vectorbt.records.orders.Orders">Orders</a></code> class accepts order records and the corresponding time series
(such as open or close) to analyze orders. Orders are mainly populated when simulating a portfolio
with the <code><a title="vectorbt.portfolio.base.Portfolio" href="../portfolio/base.html#vectorbt.portfolio.base.Portfolio">Portfolio</a></code> class. They can be accessed by<code><a title="vectorbt.portfolio.base.Portfolio.orders" href="../portfolio/base.html#vectorbt.portfolio.base.Portfolio.orders">Portfolio.orders()</a></code>.</p>
<pre><code class="python-repl">&gt;&gt;&gt; entries, exits = pd.Series.vbt.signals.generate_random_both(price.shape, n=10, seed=42)
&gt;&gt;&gt; portfolio = vbt.Portfolio.from_signals(price, entries, exits, fees=0.01, freq='1D')

&gt;&gt;&gt; portfolio.orders().records.head()
   col  idx      size    price      fees  side
0    0    0  0.026454  3742.70  0.990099     0
1    0   15  0.026454  3630.68  0.960465     1
2    0   33  0.026738  3521.06  0.941446     0
3    0   39  0.026738  3666.78  0.980408     1
4    0   55  0.025220  3810.43  0.960994     0

&gt;&gt;&gt; portfolio.orders().plot()
</code></pre>
<p><img alt="" src="/vectorbt/docs/img/orders_plot.png"></p>
<pre><code class="python-repl">&gt;&gt;&gt; portfolio.orders().count()
20

&gt;&gt;&gt; portfolio.orders().buy.price.mean()
6359.48

&gt;&gt;&gt; portfolio.orders().sell.price.mean()
6815.132
</code></pre>
<h2 id="events">Events</h2>
<p><code><a title="vectorbt.records.events.Events" href="events.html#vectorbt.records.events.Events">Events</a></code> class is the base class for working with events, such as trades and
positions. It accepts events records with any compatible schema and the corresponding time series
(such as open or close) to analyze event data. Two main subclasses are <code><a title="vectorbt.records.events.Trades" href="events.html#vectorbt.records.events.Trades">Trades</a></code>
and <code><a title="vectorbt.records.events.Positions" href="events.html#vectorbt.records.events.Positions">Positions</a></code>. Both have information on opening and closing events.</p>
<h3 id="trades">Trades</h3>
<p><code><a title="vectorbt.records.events.Trades" href="events.html#vectorbt.records.events.Trades">Trades</a></code> class accepts trade records and the corresponding time series
(such as open or close) to analyze trades. Use <code><a title="vectorbt.records.events.Trades.from_orders" href="events.html#vectorbt.records.events.Trades.from_orders">Trades.from_orders()</a></code>
to generate trade records from order records. This is done automatically in the
<code><a title="vectorbt.portfolio.base.Portfolio" href="../portfolio/base.html#vectorbt.portfolio.base.Portfolio">Portfolio</a></code> class, available as <code><a title="vectorbt.portfolio.base.Portfolio.trades" href="../portfolio/base.html#vectorbt.portfolio.base.Portfolio.trades">Portfolio.trades()</a></code>.</p>
<pre><code class="python-repl">&gt;&gt;&gt; trades = portfolio.trades()
&gt;&gt;&gt; trades.records.head()
   col      size  entry_idx  entry_price  entry_fees  exit_idx  exit_price  \
0    0  0.026454          0      3742.70    0.990099        15     3630.68
1    0  0.026738         33      3521.06    0.941446        39     3666.78
2    0  0.025220         55      3810.43    0.960994        57     3854.36
3    0  0.023671         76      4025.23    0.952824       101     5064.49
4    0  0.022394        119      5247.35    1.175091       126     5746.81

   exit_fees        pnl    return  status  position_idx
0   0.960465  -4.913957 -0.049140       1             0
1   0.980408   1.974345  0.020764       1             1
2   0.972073  -0.825148 -0.008501       1             2
3   1.198830  22.448978  0.233272       1             3
4   1.286940   8.722873  0.073496       1             4

&gt;&gt;&gt; trades.plot()
</code></pre>
<p><img alt="" src="/vectorbt/docs/img/trades_plot.png"></p>
<pre><code class="python-repl">&gt;&gt;&gt; trades.expectancy()
5.8270083764704275
</code></pre>
<h3 id="positions">Positions</h3>
<p><code><a title="vectorbt.records.events.Positions" href="events.html#vectorbt.records.events.Positions">Positions</a></code> class has the same properties as trades and is also
natively supported by <code><a title="vectorbt.portfolio.base.Portfolio" href="../portfolio/base.html#vectorbt.portfolio.base.Portfolio">Portfolio</a></code>.</p>
<h2 id="enums">Enums</h2>
<p><code><a title="vectorbt.records.enums" href="enums.html">vectorbt.records.enums</a></code> defines schemas for all records used across vectorbt.</p>
<h2 id="numba-compiled-functions">Numba-compiled functions</h2>
<p><code><a title="vectorbt.records.nb" href="nb.html">vectorbt.records.nb</a></code> provides an arsenal of Numba-compiled functions that are used for generating,
mapping, and reducing records. These only accept NumPy arrays and other Numba-compatible types.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;Modules for working with records.

Records are the second form of data representation in vectorbt. They allow storing sparse event data
such as drawdowns, orders, trades, and positions, without converting them back to the matrix form and
occupying the user&#39;s memory. For more details, see `vectorbt.records.base`.

## Base classes

`vectorbt.records.base.Records` and `vectorbt.records.base.MappedArray` are two essential classes
for working with records. The `vectorbt.records.base.Records` class wraps the actual records array
(such as trades) and offers methods for mapping it to some array of values (such as P&amp;L of each trade).
The `vectorbt.records.base.MappedArray` class then takes the mapped array and reduces it by column.

## Drawdowns

`vectorbt.records.drawdowns.Drawdowns` class accepts drawdown records and the corresponding time series
to analyze the periods of drawdown. Using `vectorbt.records.drawdowns.Drawdowns.from_ts`, you can generate
drawdown records for any time series and analyze them right away.

```python-repl
&gt;&gt;&gt; import vectorbt as vbt
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; import pandas as pd
&gt;&gt;&gt; import yfinance as yf
&gt;&gt;&gt; from datetime import datetime

&gt;&gt;&gt; start = datetime(2019, 1, 1)
&gt;&gt;&gt; end = datetime(2020, 1, 1)
&gt;&gt;&gt; price = yf.Ticker(&#34;BTC-USD&#34;).history(start=start, end=end)[&#39;Close&#39;]
&gt;&gt;&gt; drawdowns = vbt.Drawdowns.from_ts(price, freq=&#39;1 days&#39;)

&gt;&gt;&gt; drawdowns.records.head()
   col  start_idx  valley_idx  end_idx  status
0    0          2           3        6       1
1    0          6          38       54       1
2    0         54          63       91       1
3    0         93          94       95       1
4    0         98          99      100       1

&gt;&gt;&gt; drawdowns.plot()
```

![](/vectorbt/docs/img/drawdowns_plot.png)

```python-repl
&gt;&gt;&gt; drawdowns.drawdown
&lt;vectorbt.records.base.MappedArray at 0x7fafa6a11160&gt;

&gt;&gt;&gt; drawdowns.drawdown.min()
-0.48982769972565016

&gt;&gt;&gt; drawdowns.drawdown.hist(trace_kwargs=dict(nbinsx=50))
```

![](/vectorbt/docs/img/drawdowns_drawdown_hist.png)

Moreover, all time series accessors have cached property `drawdowns`:

```python-repl
&gt;&gt;&gt; price.vbt.drawdowns().active.current_drawdown()
-0.4473361334272673
```

## Orders

`vectorbt.records.orders.Orders` class accepts order records and the corresponding time series
(such as open or close) to analyze orders. Orders are mainly populated when simulating a portfolio
with the `vectorbt.portfolio.base.Portfolio` class. They can be accessed by`vectorbt.portfolio.base.Portfolio.orders`.

```python-repl
&gt;&gt;&gt; entries, exits = pd.Series.vbt.signals.generate_random_both(price.shape, n=10, seed=42)
&gt;&gt;&gt; portfolio = vbt.Portfolio.from_signals(price, entries, exits, fees=0.01, freq=&#39;1D&#39;)

&gt;&gt;&gt; portfolio.orders().records.head()
   col  idx      size    price      fees  side
0    0    0  0.026454  3742.70  0.990099     0
1    0   15  0.026454  3630.68  0.960465     1
2    0   33  0.026738  3521.06  0.941446     0
3    0   39  0.026738  3666.78  0.980408     1
4    0   55  0.025220  3810.43  0.960994     0

&gt;&gt;&gt; portfolio.orders().plot()
```

![](/vectorbt/docs/img/orders_plot.png)


```python-repl
&gt;&gt;&gt; portfolio.orders().count()
20

&gt;&gt;&gt; portfolio.orders().buy.price.mean()
6359.48

&gt;&gt;&gt; portfolio.orders().sell.price.mean()
6815.132
```

## Events

`vectorbt.records.events.Events` class is the base class for working with events, such as trades and
positions. It accepts events records with any compatible schema and the corresponding time series
(such as open or close) to analyze event data. Two main subclasses are `vectorbt.records.events.Trades`
and `vectorbt.records.events.Positions`. Both have information on opening and closing events.

### Trades

`vectorbt.records.events.Trades` class accepts trade records and the corresponding time series
(such as open or close) to analyze trades. Use `vectorbt.records.events.Trades.from_orders`
to generate trade records from order records. This is done automatically in the
`vectorbt.portfolio.base.Portfolio` class, available as `vectorbt.portfolio.base.Portfolio.trades`.

```python-repl
&gt;&gt;&gt; trades = portfolio.trades()
&gt;&gt;&gt; trades.records.head()
   col      size  entry_idx  entry_price  entry_fees  exit_idx  exit_price  \\
0    0  0.026454          0      3742.70    0.990099        15     3630.68
1    0  0.026738         33      3521.06    0.941446        39     3666.78
2    0  0.025220         55      3810.43    0.960994        57     3854.36
3    0  0.023671         76      4025.23    0.952824       101     5064.49
4    0  0.022394        119      5247.35    1.175091       126     5746.81

   exit_fees        pnl    return  status  position_idx
0   0.960465  -4.913957 -0.049140       1             0
1   0.980408   1.974345  0.020764       1             1
2   0.972073  -0.825148 -0.008501       1             2
3   1.198830  22.448978  0.233272       1             3
4   1.286940   8.722873  0.073496       1             4

&gt;&gt;&gt; trades.plot()
```

![](/vectorbt/docs/img/trades_plot.png)

```python-repl
&gt;&gt;&gt; trades.expectancy()
5.8270083764704275
```

### Positions

`vectorbt.records.events.Positions` class has the same properties as trades and is also
natively supported by `vectorbt.portfolio.base.Portfolio`.

## Enums

`vectorbt.records.enums` defines schemas for all records used across vectorbt.

## Numba-compiled functions

`vectorbt.records.nb` provides an arsenal of Numba-compiled functions that are used for generating,
mapping, and reducing records. These only accept NumPy arrays and other Numba-compatible types.

&#34;&#34;&#34;

from vectorbt.records.enums import (
    DrawdownStatus,
    drawdown_dt,
    OrderSide,
    order_dt,
    event_dt,
    EventStatus,
    trade_dt,
    position_dt
)
from vectorbt.records.base import MappedArray, Records
from vectorbt.records.orders import Orders
from vectorbt.records.events import Events, Trades, Positions
from vectorbt.records.drawdowns import Drawdowns</code></pre>
</details>
</section>
<section>
<h2 class="section-title" id="header-submodules">Sub-modules</h2>
<dl>
<dt><code class="name"><a title="vectorbt.records.base" href="base.html">vectorbt.records.base</a></code></dt>
<dd>
<div class="desc"><p>Main class for working with records …</p></div>
</dd>
<dt><code class="name"><a title="vectorbt.records.drawdowns" href="drawdowns.html">vectorbt.records.drawdowns</a></code></dt>
<dd>
<div class="desc"><p>Classes for working with drawdown records.</p></div>
</dd>
<dt><code class="name"><a title="vectorbt.records.enums" href="enums.html">vectorbt.records.enums</a></code></dt>
<dd>
<div class="desc"><p>Named tuples and enumerated types.</p></div>
</dd>
<dt><code class="name"><a title="vectorbt.records.events" href="events.html">vectorbt.records.events</a></code></dt>
<dd>
<div class="desc"><p>Classes for working with event records …</p></div>
</dd>
<dt><code class="name"><a title="vectorbt.records.nb" href="nb.html">vectorbt.records.nb</a></code></dt>
<dd>
<div class="desc"><p>Numba-compiled 1-dim and 2-dim functions …</p></div>
</dd>
<dt><code class="name"><a title="vectorbt.records.orders" href="orders.html">vectorbt.records.orders</a></code></dt>
<dd>
<div class="desc"><p>Classes for working with order records.</p></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<header>
<a class="homelink" rel="home" title="pdoc Home" href="https://github.com/polakowo/vectorbt">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAIAAABMXPacAAAACXBIWXMAACcQAAAnEAGUaVEZAAAGuGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDYtMjVUMjM6MzU6MTMrMDI6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMDYtMjZUMTQ6MTA6MzgrMDI6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTA2LTI2VDE0OjEwOjM4KzAyOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowNzE0MGFiYi05Mjk1LTQ3MDYtYTNhZi1lMDg2OTFkOTk3NjQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzZmN2Y4NjAtMThmMi00ZDgxLTg5NjUtNDU5ZjY1NDY2ZGZlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NzZmN2Y4NjAtMThmMi00ZDgxLTg5NjUtNDU5ZjY1NDY2ZGZlIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjc2ZjdmODYwLTE4ZjItNGQ4MS04OTY1LTQ1OWY2NTQ2NmRmZSIgc3RFdnQ6d2hlbj0iMjAyMC0wNi0yNVQyMzozNToxMyswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ2NjI2MGIzLTY0ZmUtNGJiYy1iMTNiLWZkMDU3NDI3NjIyNCIgc3RFdnQ6d2hlbj0iMjAyMC0wNi0yNlQxMzoyMTo1NSswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjA3MTQwYWJiLTkyOTUtNDcwNi1hM2FmLWUwODY5MWQ5OTc2NCIgc3RFdnQ6d2hlbj0iMjAyMC0wNi0yNlQxNDoxMDozOCswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Qc/+aQAAAa5JREFUeJzt3cFJA0EYgFEjgj3FGmIjsQexByuxB4vy5kHwELJhCRPekP3eMYdl4Ms/y84Gstsfjg9xHvUCtq4AWAGwAmAFwAqAFQArAFYArABYAbACYAXACoAVACsAVgCsAFgBsAJgBcAKgBUAexp1oe+vz7Ofv7y+dZ0LmgCsAFgBsAJgBcAKgBUAKwBWAKwAWAGwAmAFwAqAFQAb9j5glFHn7KPcej1NAFYAzG9BP+/n3/ld9vwx1051tSYA8xPwZ/03+rqJmVYTgBUAm2UL+re0w6i7br8LunMFwAqAFQArAFYArADYdM8Bd3PKtlITgBUAm2ULurMzzvWaAMxPwNbuuieaAKwAmN+CTtz6/H02TQBWAKwAWAGwAmAFwAqAFQArAFYArABYAbACYAXACoANex8w23n9bOtZ0gRgBcAKgBUAKwBWAKwA2HT/HzDKbOtZ0gRgBcAKgBUAKwBWAKwAWAGwAmAFwAqAFQArAFYArADYbn846jVsWhOAFQArAFYArABYAbACYAXACoAVACsAVgCsAFgBsAJgBcAKgBUAKwBWAKwAWAGwAmC/7uUrwcQVST8AAAAASUVORK5CYII="/>
vectorbt</a>
</header>
<div class="search-container">
<input
id="search_input"
type="text"
placeholder="Search"
title="Search"
/>
</div>
<div class="scrollable-index">
<h1 class="index-caption">Index</h1>
<div class="toc">
<ul>
<li><a href="#base-classes">Base classes</a></li>
<li><a href="#drawdowns">Drawdowns</a></li>
<li><a href="#orders">Orders</a></li>
<li><a href="#events">Events</a><ul>
<li><a href="#trades">Trades</a></li>
<li><a href="#positions">Positions</a></li>
</ul>
</li>
<li><a href="#enums">Enums</a></li>
<li><a href="#numba-compiled-functions">Numba-compiled functions</a></li>
</ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="vectorbt" href="../index.html">vectorbt</a></code></li>
</ul>
</li>
<li><h3><a href="#header-submodules">Sub-modules</a></h3>
<ul>
<li><code><a title="vectorbt.records.base" href="base.html">vectorbt.records.base</a></code></li>
<li><code><a title="vectorbt.records.drawdowns" href="drawdowns.html">vectorbt.records.drawdowns</a></code></li>
<li><code><a title="vectorbt.records.enums" href="enums.html">vectorbt.records.enums</a></code></li>
<li><code><a title="vectorbt.records.events" href="events.html">vectorbt.records.events</a></code></li>
<li><code><a title="vectorbt.records.nb" href="nb.html">vectorbt.records.nb</a></code></li>
<li><code><a title="vectorbt.records.orders" href="orders.html">vectorbt.records.orders</a></code></li>
</ul>
</li>
</ul>
</div>
</nav>
</main>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
docsearch({
apiKey: 'ac97cfdd96a6e6fcdc67c570adaeaf94',
indexName: 'vectorbt',
inputSelector: '#search_input',
autocompleteOptions: {
autoWidth: false
},
debug: true // Set debug to true if you want to inspect the dropdown
});
</script>
<script src="https://buttons.github.io/buttons.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
<script>
// Turn off ESLint for this file because it's sent down to users as-is.
/* eslint-disable */
window.addEventListener('load', function() {
function button(label, ariaLabel, icon, className) {
const btn = document.createElement('button');
btn.classList.add('btnIcon', className);
btn.setAttribute('type', 'button');
btn.setAttribute('aria-label', ariaLabel);
btn.innerHTML =
'<div class="btnIcon__body">' +
icon +
'<strong class="btnIcon__label">' +
label +
'</strong>' +
'</div>';
return btn;
}
function addButtons(codeBlockSelector, btn) {
document.querySelectorAll(codeBlockSelector).forEach(function(code) {
code.parentNode.appendChild(btn.cloneNode(true));
});
}
const copyIcon =
'<svg width="12" height="12" viewBox="340 364 14 15" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M342 375.974h4v.998h-4v-.998zm5-5.987h-5v.998h5v-.998zm2 2.994v-1.995l-3 2.993 3 2.994v-1.996h5v-1.995h-5zm-4.5-.997H342v.998h2.5v-.997zm-2.5 2.993h2.5v-.998H342v.998zm9 .998h1v1.996c-.016.28-.11.514-.297.702-.187.187-.422.28-.703.296h-10c-.547 0-1-.452-1-.998v-10.976c0-.546.453-.998 1-.998h3c0-1.107.89-1.996 2-1.996 1.11 0 2 .89 2 1.996h3c.547 0 1 .452 1 .998v4.99h-1v-2.995h-10v8.98h10v-1.996zm-9-7.983h8c0-.544-.453-.996-1-.996h-1c-.547 0-1-.453-1-.998 0-.546-.453-.998-1-.998-.547 0-1 .452-1 .998 0 .545-.453.998-1 .998h-1c-.547 0-1 .452-1 .997z" fill-rule="evenodd"/></svg>';
addButtons(
'.hljs',
button('Copy', 'Copy code to clipboard', copyIcon, 'btnClipboard'),
);
const clipboard = new ClipboardJS('.btnClipboard', {
target: function(trigger) {
return trigger.parentNode.querySelector('code');
},
});
clipboard.on('success', function(event) {
event.clearSelection();
const textEl = event.trigger.querySelector('.btnIcon__label');
textEl.textContent = 'Copied';
setTimeout(function() {
textEl.textContent = 'Copy';
}, 2000);
});
});
</script>
</body>
</html>