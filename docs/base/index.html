<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>vectorbt.base API documentation</title>
<meta name="description" content="Modules with base classes and utilities for pandas objects, such as broadcasting …" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-2/css/all.min.css" integrity="sha256-46r060N2LrChLLb5zowXQ72/iKKNiw/lAmygmHExk/o=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
<link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css' rel='stylesheet'>
<link href='https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/8.0.0/sanitize.min.css' rel='stylesheet'>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css" rel="stylesheet">
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar>*:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #eee;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold;word-break:break-all}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8}.hljs{padding:1.25rem 1.5rem;margin-left:-15px;margin-right:-15px;border:1px solid #eee;border-radius:6px;background:#282c34 !important;color:#9da29e !important}.python{color:#c5c8c6 !important}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word;font-size:90%}h1 code{background:transparent}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{padding-bottom:.5em;border-bottom:1px solid #e82}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes+dl>dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name>span:first-child{white-space:nowrap}.name.class>span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary>*{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}.badge{display:inline-block;padding:0.25em 0.4em;font-size:75%;font-weight:700;line-height:1;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:0.25rem;transition:color 0.15s ease-in-out,background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out}@media (prefers-reduced-motion:reduce){.badge{transition:none}}a.badge:hover,a.badge:focus{text-decoration:none}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.badge-pill{padding-right:0.6em;padding-left:0.6em;border-radius:10rem}.badge-primary{color:#fff;background-color:#007bff}a.badge-primary:hover,a.badge-primary:focus{color:#fff;background-color:#0062cc}a.badge-primary:focus,a.badge-primary.focus{outline:0;box-shadow:0 0 0 0.2rem rgba(0,123,255,0.5)}.badge-secondary{color:#fff;background-color:#6c757d}a.badge-secondary:hover,a.badge-secondary:focus{color:#fff;background-color:#545b62}a.badge-secondary:focus,a.badge-secondary.focus{outline:0;box-shadow:0 0 0 0.2rem rgba(108,117,125,0.5)}.badge-success{color:#fff;background-color:#28a745}a.badge-success:hover,a.badge-success:focus{color:#fff;background-color:#1e7e34}a.badge-success:focus,a.badge-success.focus{outline:0;box-shadow:0 0 0 0.2rem rgba(40,167,69,0.5)}.badge-info{color:#fff;background-color:#17a2b8}a.badge-info:hover,a.badge-info:focus{color:#fff;background-color:#117a8b}a.badge-info:focus,a.badge-info.focus{outline:0;box-shadow:0 0 0 0.2rem rgba(23,162,184,0.5)}.badge-warning{color:#212529;background-color:#ffc107}a.badge-warning:hover,a.badge-warning:focus{color:#212529;background-color:#d39e00}a.badge-warning:focus,a.badge-warning.focus{outline:0;box-shadow:0 0 0 0.2rem rgba(255,193,7,0.5)}.badge-danger{color:#fff;background-color:#dc3545}a.badge-danger:hover,a.badge-danger:focus{color:#fff;background-color:#bd2130}a.badge-danger:focus,a.badge-danger.focus{outline:0;box-shadow:0 0 0 0.2rem rgba(220,53,69,0.5)}.badge-light{color:#212529;background-color:#f8f9fa}a.badge-light:hover,a.badge-light:focus{color:#212529;background-color:#dae0e5}a.badge-light:focus,a.badge-light.focus{outline:0;box-shadow:0 0 0 0.2rem rgba(248,249,250,0.5)}.badge-dark{color:#fff;background-color:#343a40}a.badge-dark:hover,a.badge-dark:focus{color:#fff;background-color:#1d2124}a.badge-dark:focus,a.badge-dark.focus{outline:0;box-shadow:0 0 0 0.2rem rgba(52,58,64,0.5)}.search-container{width:100%;margin-top:15px;margin-bottom:15px}#search_input{display:inline-block;width:100%;height:40px;padding:.375rem .75rem;font-size:1rem;line-height:1.5;color:white;background:#282c34 !important;border:none;border-radius:6px;border-bottom:1px solid #e82;outline:none}.algolia-autocomplete{width:100%;background:rgba(0,0,0,.2);border:none;border-radius:6px}.algolia-autocomplete input{display:none}.index-caption{color:white}#index a,#index h3,.toc a{color:white}#index a:hover,.toc a:hover{color:#e82}#sidebar{background:#3B4556}.toc ul ul,#index ul{padding-left:1.5em}.toc>ul>li{margin-top:.5em}pre{position:relative;background:#fafafa}pre .btnIcon{position:absolute;top:4px;z-index:2;cursor:pointer;border:1px solid transparent;padding:0;color:#383a42;background-color:transparent;height:30px;transition:all .25s ease-out}pre .btnIcon:hover{text-decoration:none}.btnIcon__body{align-items:center;display:flex;color:#abb2bf}.btnIcon svg{fill:currentColor;margin-right:.4em}.btnIcon__label{font-size:11px}.btnClipboard{right:10px}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:400px;height:100vh;overflow:visible;position:sticky;top:0}#content{width:100%;max-width:100ch;padding:3em 4em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.scrollable-index{overflow-y:scroll;height:calc(100vh - 250px)}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-142521178-3', 'auto'); ga('send', 'pageview');
</script><script async src='https://www.google-analytics.com/analytics.js'></script>
<style>.homelink{display:block;font-size:2em;font-weight:bold;color:white}.homelink:hover{color:#e82}.homelink img{max-width:128px;max-height:128px;margin:auto;margin-bottom:.3em}</style>
<link rel="apple-touch-icon" sizes="180x180" href="https://raw.githubusercontent.com/polakowo/vectorbt/master/static/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://raw.githubusercontent.com/polakowo/vectorbt/master/static/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://raw.githubusercontent.com/polakowo/vectorbt/master/static/favicon/favicon-16x16.png">
<link rel="manifest" href="https://raw.githubusercontent.com/polakowo/vectorbt/master/static/favicon/site.webmanifest">
<link rel="mask-icon" href="https://raw.githubusercontent.com/polakowo/vectorbt/master/static/favicon/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>vectorbt.base</code></h1>
</header>
<section id="section-intro">
<p>Modules with base classes and utilities for pandas objects, such as broadcasting.</p>
<h2 id="classes-arraywrapper-and-wrapping">Classes ArrayWrapper and Wrapping</h2>
<p>vectorbt's functionality is based upon the ability to perform the most essential pandas operations
using NumPy+Numba stack. One has to convert the Series/DataFrame into the NumPy format, perform
the computation, and put the array back into the pandas format. The last step is done using
<code><a title="vectorbt.base.array_wrapper.ArrayWrapper" href="array_wrapper.html#vectorbt.base.array_wrapper.ArrayWrapper">ArrayWrapper</a></code>.</p>
<p>It stores metadata of the original pandas object and offers methods <code>wrap</code> and <code>wrap_reduced</code>
for wrapping NumPy arrays to match the stored metadata as closest as possible.</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; import pandas as pd
&gt;&gt;&gt; import vectorbt as vbt
&gt;&gt;&gt; from vectorbt.base.array_wrapper import ArrayWrapper

&gt;&gt;&gt; aw = ArrayWrapper(index=['x', 'y', 'z'], columns=['a', 'b', 'c'], ndim=2)
&gt;&gt;&gt; aw._config
{
    'columns': Index(['a', 'b', 'c'], dtype='object'),
    'group_select': None,
    'ndim': 2,
    'freq': None,
    'column_only_select': None,
    'grouped_ndim': None,
    'index': ['x', 'y', 'z'],
    'allow_modify': True,
    'allow_enable': True,
    'group_by': None,
    'allow_disable': True
}

&gt;&gt;&gt; np.random.seed(42)
&gt;&gt;&gt; a = np.random.uniform(size=(3, 3))
&gt;&gt;&gt; aw.wrap(a)
          a         b         c
x  0.374540  0.950714  0.731994
y  0.598658  0.156019  0.155995
z  0.058084  0.866176  0.601115

&gt;&gt;&gt; aw.wrap_reduced(np.sum(a, axis=0))
a    1.031282
b    1.972909
c    1.489103
dtype: float64
</code></pre>
<p>It can also be indexed as a regular pandas object and integrates <code><a title="vectorbt.base.column_grouper.ColumnGrouper" href="column_grouper.html#vectorbt.base.column_grouper.ColumnGrouper">ColumnGrouper</a></code>:</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; aw.loc['x':'y', 'a']._config
{
    'columns': Index(['a'], dtype='object'),
    'group_select': None,
    'ndim': 1,
    'freq': None,
    'column_only_select': None,
    'grouped_ndim': None,
    'index': Index(['x', 'y'], dtype='object'),
    'allow_modify': True,
    'allow_enable': True,
    'group_by': None,
    'allow_disable': True
}

&gt;&gt;&gt; aw.regroup(np.array([0, 0, 1]))._config
{
    'columns': Index(['a', 'b', 'c'], dtype='object'),
    'group_select': None,
    'ndim': 2,
    'freq': None,
    'column_only_select': None,
    'grouped_ndim': None,
    'index': ['x', 'y', 'z'],
    'allow_modify': True,
    'allow_enable': True,
    'group_by': array([0, 0, 1]),
    'allow_disable': True
}
</code></pre>
<p>Class <code><a title="vectorbt.base.array_wrapper.Wrapping" href="array_wrapper.html#vectorbt.base.array_wrapper.Wrapping">Wrapping</a></code> is a convenience class meant to be subclassed
by classes that do not want to subclass <code><a title="vectorbt.base.array_wrapper.ArrayWrapper" href="array_wrapper.html#vectorbt.base.array_wrapper.ArrayWrapper">ArrayWrapper</a></code> but
rather use it as an attribute (which is a better SE design pattern anyway!).</p>
<h2 id="columngrouper">ColumnGrouper</h2>
<p>Class <code><a title="vectorbt.base.column_grouper.ColumnGrouper" href="column_grouper.html#vectorbt.base.column_grouper.ColumnGrouper">ColumnGrouper</a></code> stores metadata related to grouping columns.
It can return, for example, the number of groups, the start indices of groups, and other
information useful for reducing operations that utilize grouping. It also allows to dynamically
enable/disable/modify groups and checks whether a certain operation is permitted.</p>
<h2 id="index-functions">Index functions</h2>
<p>Index functions perform operations on index objects, such as stacking, combining,
and cleansing MultiIndex levels. "Index" in pandas context is referred to both index and columns.</p>
<h2 id="reshape-functions">Reshape functions</h2>
<p>Reshape functions transform a pandas object/NumPy array in some way, such as tiling, broadcasting,
and unstacking.</p>
<h2 id="combine-functions">Combine functions</h2>
<p>Combine functions combine two or more NumPy arrays using a custom function. The emphasis here is
done upon stacking the results into one NumPy array - since vectorbt is all about bruteforcing
large spaces of hyperparameters, concatenating the results of each hyperparameter combination into
a single DataFrame is important. All functions are available in both Python and Numba-compiled form.</p>
<h2 id="indexing">Indexing</h2>
<p>The main purpose of indexing classes is to provide pandas-like indexing to user-defined classes
holding objects that have rows and/or columns. This is done by forwarding indexing commands
to each structured object and constructing the new user-defined class using them. This way,
one can manupulate complex classes with dozens of pandas objects using a single command.</p>
<h2 id="class-helpers">Class helpers</h2>
<p>Module <code><a title="vectorbt.base.class_helpers" href="class_helpers.html">vectorbt.base.class_helpers</a></code> contains class decorators and other helper functions,
for example, to quickly add a range of Numba-compiled functions to the class.</p>
<h2 id="accessors">Accessors</h2>
<p>The base accessor of vectorbt is <code><a title="vectorbt.base.accessors.Base_Accessor" href="accessors.html#vectorbt.base.accessors.Base_Accessor">Base_Accessor</a></code>.
You can access its methods as follows:</p>
<ul>
<li><code><a title="vectorbt.base.accessors.Base_SRAccessor" href="accessors.html#vectorbt.base.accessors.Base_SRAccessor">Base_SRAccessor</a></code> -&gt; <code>pd.Series.vbt.*</code></li>
<li><code><a title="vectorbt.base.accessors.Base_DFAccessor" href="accessors.html#vectorbt.base.accessors.Base_DFAccessor">Base_DFAccessor</a></code> -&gt; <code>pd.DataFrame.vbt.*</code></li>
</ul>
<p>For example:</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; # vectorbt.base.accessors.Base_Accessor.make_symmetric
&gt;&gt;&gt; pd.Series([1, 2, 3]).vbt.make_symmetric()
     0    1    2
0  1.0  2.0  3.0
1  2.0  NaN  NaN
2  3.0  NaN  NaN
</code></pre>
<p>It contains base methods for working with pandas objects. Most of these methods are adaptations
of combine/reshape/index functions that can work with pandas objects. For example,
<code><a title="vectorbt.base.reshape_fns.broadcast" href="reshape_fns.html#vectorbt.base.reshape_fns.broadcast">broadcast()</a></code> can take an arbitrary number of pandas objects, thus
you can find its variations as accessor methods.</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; sr = pd.Series([1])
&gt;&gt;&gt; df = pd.DataFrame([1, 2, 3])

&gt;&gt;&gt; vbt.base.reshape_fns.broadcast_to(sr, df)
   0
0  1
1  1
2  1
&gt;&gt;&gt; sr.vbt.broadcast_to(df)
   0
0  1
1  1
2  1
</code></pre>
<p>Additionally, <code><a title="vectorbt.base.accessors.Base_Accessor" href="accessors.html#vectorbt.base.accessors.Base_Accessor">Base_Accessor</a></code> implements arithmetic (such as <code>+</code>),
comparison (such as <code>&gt;</code>) and logical operators (such as <code>&amp;</code>) by doing 1) NumPy-like broadcasting
and 2) the compuation with NumPy under the hood, which is mostly much faster than with pandas.</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; df = pd.DataFrame(np.random.uniform(size=(1000, 1000)))
&gt;&gt;&gt; %timeit df * 2
296 ms ± 27.4 ms per loop (mean ± std. dev. of 7 runs, 1 loop each)
&gt;&gt;&gt; %timeit df.vbt * 2
5.48 ms ± 1.12 ms per loop (mean ± std. dev. of 7 runs, 100 loops each)
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You should ensure that your <code>*.vbt</code> operand is on the left if the other operand is an array.</p>
</div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;Modules with base classes and utilities for pandas objects, such as broadcasting.

## Classes ArrayWrapper and Wrapping

vectorbt&#39;s functionality is based upon the ability to perform the most essential pandas operations
using NumPy+Numba stack. One has to convert the Series/DataFrame into the NumPy format, perform
the computation, and put the array back into the pandas format. The last step is done using
`vectorbt.base.array_wrapper.ArrayWrapper`.

It stores metadata of the original pandas object and offers methods `wrap` and `wrap_reduced`
for wrapping NumPy arrays to match the stored metadata as closest as possible.

```python-repl
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; import pandas as pd
&gt;&gt;&gt; import vectorbt as vbt
&gt;&gt;&gt; from vectorbt.base.array_wrapper import ArrayWrapper

&gt;&gt;&gt; aw = ArrayWrapper(index=[&#39;x&#39;, &#39;y&#39;, &#39;z&#39;], columns=[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;], ndim=2)
&gt;&gt;&gt; aw._config
{
    &#39;columns&#39;: Index([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;], dtype=&#39;object&#39;),
    &#39;group_select&#39;: None,
    &#39;ndim&#39;: 2,
    &#39;freq&#39;: None,
    &#39;column_only_select&#39;: None,
    &#39;grouped_ndim&#39;: None,
    &#39;index&#39;: [&#39;x&#39;, &#39;y&#39;, &#39;z&#39;],
    &#39;allow_modify&#39;: True,
    &#39;allow_enable&#39;: True,
    &#39;group_by&#39;: None,
    &#39;allow_disable&#39;: True
}

&gt;&gt;&gt; np.random.seed(42)
&gt;&gt;&gt; a = np.random.uniform(size=(3, 3))
&gt;&gt;&gt; aw.wrap(a)
          a         b         c
x  0.374540  0.950714  0.731994
y  0.598658  0.156019  0.155995
z  0.058084  0.866176  0.601115

&gt;&gt;&gt; aw.wrap_reduced(np.sum(a, axis=0))
a    1.031282
b    1.972909
c    1.489103
dtype: float64
```

It can also be indexed as a regular pandas object and integrates `vectorbt.base.column_grouper.ColumnGrouper`:

```python-repl
&gt;&gt;&gt; aw.loc[&#39;x&#39;:&#39;y&#39;, &#39;a&#39;]._config
{
    &#39;columns&#39;: Index([&#39;a&#39;], dtype=&#39;object&#39;),
    &#39;group_select&#39;: None,
    &#39;ndim&#39;: 1,
    &#39;freq&#39;: None,
    &#39;column_only_select&#39;: None,
    &#39;grouped_ndim&#39;: None,
    &#39;index&#39;: Index([&#39;x&#39;, &#39;y&#39;], dtype=&#39;object&#39;),
    &#39;allow_modify&#39;: True,
    &#39;allow_enable&#39;: True,
    &#39;group_by&#39;: None,
    &#39;allow_disable&#39;: True
}

&gt;&gt;&gt; aw.regroup(np.array([0, 0, 1]))._config
{
    &#39;columns&#39;: Index([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;], dtype=&#39;object&#39;),
    &#39;group_select&#39;: None,
    &#39;ndim&#39;: 2,
    &#39;freq&#39;: None,
    &#39;column_only_select&#39;: None,
    &#39;grouped_ndim&#39;: None,
    &#39;index&#39;: [&#39;x&#39;, &#39;y&#39;, &#39;z&#39;],
    &#39;allow_modify&#39;: True,
    &#39;allow_enable&#39;: True,
    &#39;group_by&#39;: array([0, 0, 1]),
    &#39;allow_disable&#39;: True
}
```

Class `vectorbt.base.array_wrapper.Wrapping` is a convenience class meant to be subclassed
by classes that do not want to subclass `vectorbt.base.array_wrapper.ArrayWrapper` but
rather use it as an attribute (which is a better SE design pattern anyway!).

## ColumnGrouper

Class `vectorbt.base.column_grouper.ColumnGrouper` stores metadata related to grouping columns.
It can return, for example, the number of groups, the start indices of groups, and other
information useful for reducing operations that utilize grouping. It also allows to dynamically
enable/disable/modify groups and checks whether a certain operation is permitted.

## Index functions

Index functions perform operations on index objects, such as stacking, combining,
and cleansing MultiIndex levels. &#34;Index&#34; in pandas context is referred to both index and columns.

## Reshape functions

Reshape functions transform a pandas object/NumPy array in some way, such as tiling, broadcasting,
and unstacking.

## Combine functions

Combine functions combine two or more NumPy arrays using a custom function. The emphasis here is
done upon stacking the results into one NumPy array - since vectorbt is all about bruteforcing
large spaces of hyperparameters, concatenating the results of each hyperparameter combination into
a single DataFrame is important. All functions are available in both Python and Numba-compiled form.

## Indexing

The main purpose of indexing classes is to provide pandas-like indexing to user-defined classes
holding objects that have rows and/or columns. This is done by forwarding indexing commands
to each structured object and constructing the new user-defined class using them. This way,
one can manupulate complex classes with dozens of pandas objects using a single command.

## Class helpers

Module `vectorbt.base.class_helpers` contains class decorators and other helper functions,
for example, to quickly add a range of Numba-compiled functions to the class.

## Accessors

The base accessor of vectorbt is `vectorbt.base.accessors.Base_Accessor`.
You can access its methods as follows:

* `vectorbt.base.accessors.Base_SRAccessor` -&gt; `pd.Series.vbt.*`
* `vectorbt.base.accessors.Base_DFAccessor` -&gt; `pd.DataFrame.vbt.*`

For example:

```python-repl
&gt;&gt;&gt; # vectorbt.base.accessors.Base_Accessor.make_symmetric
&gt;&gt;&gt; pd.Series([1, 2, 3]).vbt.make_symmetric()
     0    1    2
0  1.0  2.0  3.0
1  2.0  NaN  NaN
2  3.0  NaN  NaN
```

It contains base methods for working with pandas objects. Most of these methods are adaptations
of combine/reshape/index functions that can work with pandas objects. For example,
`vectorbt.base.reshape_fns.broadcast` can take an arbitrary number of pandas objects, thus
you can find its variations as accessor methods.

```python-repl
&gt;&gt;&gt; sr = pd.Series([1])
&gt;&gt;&gt; df = pd.DataFrame([1, 2, 3])

&gt;&gt;&gt; vbt.base.reshape_fns.broadcast_to(sr, df)
   0
0  1
1  1
2  1
&gt;&gt;&gt; sr.vbt.broadcast_to(df)
   0
0  1
1  1
2  1
```

Additionally, `vectorbt.base.accessors.Base_Accessor` implements arithmetic (such as `+`),
comparison (such as `&gt;`) and logical operators (such as `&amp;`) by doing 1) NumPy-like broadcasting
and 2) the compuation with NumPy under the hood, which is mostly much faster than with pandas.

```python-repl
&gt;&gt;&gt; df = pd.DataFrame(np.random.uniform(size=(1000, 1000)))
&gt;&gt;&gt; %timeit df * 2
296 ms ± 27.4 ms per loop (mean ± std. dev. of 7 runs, 1 loop each)
&gt;&gt;&gt; %timeit df.vbt * 2
5.48 ms ± 1.12 ms per loop (mean ± std. dev. of 7 runs, 100 loops each)
```

!!! note
    You should ensure that your `*.vbt` operand is on the left if the other operand is an array.
&#34;&#34;&#34;

from vectorbt.base.array_wrapper import ArrayWrapper

__all__ = [
    &#39;ArrayWrapper&#39;
]

__pdoc__ = {k: False for k in __all__}</code></pre>
</details>
</section>
<section>
<h2 class="section-title" id="header-submodules">Sub-modules</h2>
<dl>
<dt><code class="name"><a title="vectorbt.base.accessors" href="accessors.html">vectorbt.base.accessors</a></code></dt>
<dd>
<div class="desc"><p>Custom pandas accessors …</p></div>
</dd>
<dt><code class="name"><a title="vectorbt.base.array_wrapper" href="array_wrapper.html">vectorbt.base.array_wrapper</a></code></dt>
<dd>
<div class="desc"><p>Class for wrapping NumPy arrays into Series/DataFrames.</p></div>
</dd>
<dt><code class="name"><a title="vectorbt.base.class_helpers" href="class_helpers.html">vectorbt.base.class_helpers</a></code></dt>
<dd>
<div class="desc"><p>Class decorators and other helpers.</p></div>
</dd>
<dt><code class="name"><a title="vectorbt.base.column_grouper" href="column_grouper.html">vectorbt.base.column_grouper</a></code></dt>
<dd>
<div class="desc"><p>Class that exposes methods to group columns.</p></div>
</dd>
<dt><code class="name"><a title="vectorbt.base.combine_fns" href="combine_fns.html">vectorbt.base.combine_fns</a></code></dt>
<dd>
<div class="desc"><p>Functions for combining arrays.</p></div>
</dd>
<dt><code class="name"><a title="vectorbt.base.index_fns" href="index_fns.html">vectorbt.base.index_fns</a></code></dt>
<dd>
<div class="desc"><p>Functions for working with index/columns.</p></div>
</dd>
<dt><code class="name"><a title="vectorbt.base.indexing" href="indexing.html">vectorbt.base.indexing</a></code></dt>
<dd>
<div class="desc"><p>Classes for indexing.</p></div>
</dd>
<dt><code class="name"><a title="vectorbt.base.reshape_fns" href="reshape_fns.html">vectorbt.base.reshape_fns</a></code></dt>
<dd>
<div class="desc"><p>Functions for reshaping arrays.</p></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<header>
<a class="homelink" rel="home" title="pdoc Home" href="https://github.com/polakowo/vectorbt">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAIAAABMXPacAAAACXBIWXMAACcQAAAnEAGUaVEZAAAGuGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDYtMjVUMjM6MzU6MTMrMDI6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMDYtMjZUMTQ6MTA6MzgrMDI6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTA2LTI2VDE0OjEwOjM4KzAyOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowNzE0MGFiYi05Mjk1LTQ3MDYtYTNhZi1lMDg2OTFkOTk3NjQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzZmN2Y4NjAtMThmMi00ZDgxLTg5NjUtNDU5ZjY1NDY2ZGZlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NzZmN2Y4NjAtMThmMi00ZDgxLTg5NjUtNDU5ZjY1NDY2ZGZlIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjc2ZjdmODYwLTE4ZjItNGQ4MS04OTY1LTQ1OWY2NTQ2NmRmZSIgc3RFdnQ6d2hlbj0iMjAyMC0wNi0yNVQyMzozNToxMyswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ2NjI2MGIzLTY0ZmUtNGJiYy1iMTNiLWZkMDU3NDI3NjIyNCIgc3RFdnQ6d2hlbj0iMjAyMC0wNi0yNlQxMzoyMTo1NSswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjA3MTQwYWJiLTkyOTUtNDcwNi1hM2FmLWUwODY5MWQ5OTc2NCIgc3RFdnQ6d2hlbj0iMjAyMC0wNi0yNlQxNDoxMDozOCswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Qc/+aQAAAa5JREFUeJzt3cFJA0EYgFEjgj3FGmIjsQexByuxB4vy5kHwELJhCRPekP3eMYdl4Ms/y84Gstsfjg9xHvUCtq4AWAGwAmAFwAqAFQArAFYArABYAbACYAXACoAVACsAVgCsAFgBsAJgBcAKgBUAexp1oe+vz7Ofv7y+dZ0LmgCsAFgBsAJgBcAKgBUAKwBWAKwAWAGwAmAFwAqAFQAb9j5glFHn7KPcej1NAFYAzG9BP+/n3/ld9vwx1051tSYA8xPwZ/03+rqJmVYTgBUAm2UL+re0w6i7br8LunMFwAqAFQArAFYArADYdM8Bd3PKtlITgBUAm2ULurMzzvWaAMxPwNbuuieaAKwAmN+CTtz6/H02TQBWAKwAWAGwAmAFwAqAFQArAFYArABYAbACYAXACoANex8w23n9bOtZ0gRgBcAKgBUAKwBWAKwA2HT/HzDKbOtZ0gRgBcAKgBUAKwBWAKwAWAGwAmAFwAqAFQArAFYArADYbn846jVsWhOAFQArAFYArABYAbACYAXACoAVACsAVgCsAFgBsAJgBcAKgBUAKwBWAKwAWAGwAmC/7uUrwcQVST8AAAAASUVORK5CYII="/>
vectorbt</a>
</header>
<div class="search-container">
<input
id="search_input"
type="text"
placeholder="Search"
title="Search"
/>
</div>
<div class="scrollable-index">
<h1 class="index-caption">Index</h1>
<div class="toc">
<ul>
<li><a href="#classes-arraywrapper-and-wrapping">Classes ArrayWrapper and Wrapping</a></li>
<li><a href="#columngrouper">ColumnGrouper</a></li>
<li><a href="#index-functions">Index functions</a></li>
<li><a href="#reshape-functions">Reshape functions</a></li>
<li><a href="#combine-functions">Combine functions</a></li>
<li><a href="#indexing">Indexing</a></li>
<li><a href="#class-helpers">Class helpers</a></li>
<li><a href="#accessors">Accessors</a></li>
</ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="vectorbt" href="../index.html">vectorbt</a></code></li>
</ul>
</li>
<li><h3><a href="#header-submodules">Sub-modules</a></h3>
<ul>
<li><code><a title="vectorbt.base.accessors" href="accessors.html">vectorbt.base.accessors</a></code></li>
<li><code><a title="vectorbt.base.array_wrapper" href="array_wrapper.html">vectorbt.base.array_wrapper</a></code></li>
<li><code><a title="vectorbt.base.class_helpers" href="class_helpers.html">vectorbt.base.class_helpers</a></code></li>
<li><code><a title="vectorbt.base.column_grouper" href="column_grouper.html">vectorbt.base.column_grouper</a></code></li>
<li><code><a title="vectorbt.base.combine_fns" href="combine_fns.html">vectorbt.base.combine_fns</a></code></li>
<li><code><a title="vectorbt.base.index_fns" href="index_fns.html">vectorbt.base.index_fns</a></code></li>
<li><code><a title="vectorbt.base.indexing" href="indexing.html">vectorbt.base.indexing</a></code></li>
<li><code><a title="vectorbt.base.reshape_fns" href="reshape_fns.html">vectorbt.base.reshape_fns</a></code></li>
</ul>
</li>
</ul>
</div>
</nav>
</main>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.4.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
docsearch({
apiKey: 'ac97cfdd96a6e6fcdc67c570adaeaf94',
indexName: 'vectorbt',
inputSelector: '#search_input',
autocompleteOptions: {
autoWidth: false
},
debug: true // Set debug to true if you want to inspect the dropdown
});
</script>
<script src="https://buttons.github.io/buttons.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
<script>
// Turn off ESLint for this file because it's sent down to users as-is.
/* eslint-disable */
window.addEventListener('load', function() {
function button(label, ariaLabel, icon, className) {
const btn = document.createElement('button');
btn.classList.add('btnIcon', className);
btn.setAttribute('type', 'button');
btn.setAttribute('aria-label', ariaLabel);
btn.innerHTML =
'<div class="btnIcon__body">' +
icon +
'<strong class="btnIcon__label">' +
label +
'</strong>' +
'</div>';
return btn;
}
function addButtons(codeBlockSelector, btn) {
document.querySelectorAll(codeBlockSelector).forEach(function(code) {
code.parentNode.appendChild(btn.cloneNode(true));
});
}
const copyIcon =
'<svg width="12" height="12" viewBox="340 364 14 15" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M342 375.974h4v.998h-4v-.998zm5-5.987h-5v.998h5v-.998zm2 2.994v-1.995l-3 2.993 3 2.994v-1.996h5v-1.995h-5zm-4.5-.997H342v.998h2.5v-.997zm-2.5 2.993h2.5v-.998H342v.998zm9 .998h1v1.996c-.016.28-.11.514-.297.702-.187.187-.422.28-.703.296h-10c-.547 0-1-.452-1-.998v-10.976c0-.546.453-.998 1-.998h3c0-1.107.89-1.996 2-1.996 1.11 0 2 .89 2 1.996h3c.547 0 1 .452 1 .998v4.99h-1v-2.995h-10v8.98h10v-1.996zm-9-7.983h8c0-.544-.453-.996-1-.996h-1c-.547 0-1-.453-1-.998 0-.546-.453-.998-1-.998-.547 0-1 .452-1 .998 0 .545-.453.998-1 .998h-1c-.547 0-1 .452-1 .997z" fill-rule="evenodd"/></svg>';
addButtons(
'.hljs',
button('Copy', 'Copy code to clipboard', copyIcon, 'btnClipboard'),
);
const clipboard = new ClipboardJS('.btnClipboard', {
target: function(trigger) {
return trigger.parentNode.querySelector('code');
},
});
clipboard.on('success', function(event) {
event.clearSelection();
const textEl = event.trigger.querySelector('.btnIcon__label');
textEl.textContent = 'Copied';
setTimeout(function() {
textEl.textContent = 'Copy';
}, 2000);
});
});
</script>
</body>
</html>